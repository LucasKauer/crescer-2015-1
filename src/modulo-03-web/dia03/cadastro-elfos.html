<html>
	
	<head>
		<title>Cadastro de Elfos</title>
		<meta charset="utf-8">
	</head>
	
	<body>
		<h3>Cadastro de Elfos</h3>
		
		<form action="cadastro-elfos.html" method="post" enctype="multipart/form-data">
		
			<div style="height: 50px;">
				<label for="nome">
					Nome do Elfo
				</label>
				<!-- Site para expressões regulares: regex101 -->
				<input id="nome" required name="nome" placeholder="Seu nome aqui" type="text" pattern=".{6,}">
			</div>
			
			<div style="height: 50px;">
				<label for="sexo">
					Sexo (Masculino / Feminino)
				</label>
				<input type="radio" required for="sexo" name="sexo" value="masculino">Masculino
				<input type="radio" required for="sexo" name="sexo" value="feminino">Feminino
			</div>
			
			<div style="height: 50px;">
				<label for="qtd_flechas">
					Quantidade de flechas inciais do Elfo
				</label>
				<input id="qtd_flechas" name="qtd_flechas" type="number" value="42">
			</div>
			
			<div style="height: 50px;">
				<label for="dt_nascimento">
					Data de nascimento
				</label>
				<input id="dt_nascimento" required name="dt_nascimento" type="date">
			</div>
			
			<div style="height: 50px;">
				<label for="status">
					Status inicial do Elfo (Dormindo ou 
					Caçando ou Contando piada)
				</label>
				<input type="radio" for="status" name="status" value="dormindo">Dormindo
				<input type="radio" for="status" name="status" value="dormindo">Caçando
				<input type="radio" for="status" name="status" value="dormindo">Contando piada
			</div>
			
			<div style="height: 100px;">
				<label for="item">
					Itens iniciais do Elfo 
					(Arco e Flecha e/ou Espada de aço Porto-alegrense 
					e/ou Escudo de amburana e/ou Poção HP)
				</label>
				<input type="checkbox" for="item" name="item" value="arco_e_flecha" CHECKED>Arco e Flecha
				<input type="checkbox" for="item" name="item" value="espada">Espada de aço Porto-alegrense 
				<input type="checkbox" for="item" name="item" value="escudo" CHECKED>Escudo de amburana
				<input type="checkbox" for="item" name="item" value="pocao">Poção HP

			</div>
			

			<div style="height: 50px;">
				<label for="avatar">
					Upload de uma imagem avatar do Elfo 
					(apenas image/jpg, image/png)
				</label>
				<input type="file" id="avatar" name="avatar" accept=".jpg,.jpeg,.png" onchange="return validarExt();">
			</div>
			
			<div style="height: 100px;">
				<input type="submit" value="cadastrar">
			</div>
		</form>
		
		<script>
			function validarExt() {
				//var inputFile = document.getElementsByName('avatar')[0];
				var inputFile = document.getElementById('avatar');
				var nomeArquivo = inputFile.value;
				var valida = false;
				var extensoesValidas = [ '.jpg', '.jpeg', '.png' ];
				for (var i = 0, len = extensoesValidas.length; i < len; i++) {
					var ext = extensoesValidas[i];
					var apenasAExtensao = nomeArquivo.substring(nomeArquivo.length-ext.length, nomeArquivo.length).toLowerCase();
										
					if (apenasAExtensao === ext.toLowerCase()) {
						valida = true;
						break;
					}
				}
				
				if (valida === false) {
					alert('Extensão inválida!');
					inputFile.value = null;
				}
				
				return valida;
			}
		</script>
		
	</body>

</html>